[English Readme](./README_EN.md)  /  [ğŸ‘‘æåŠ©è¯¥é¡¹ç›®](./about.md) / [Discordé‚€è¯·é“¾æ¥](https://discord.gg/y9gUweVCCJ) / å¾®ä¿¡å…¬ä¼—å·ï¼šæœä¸€æœâ€œ pyvideotrans â€

# è§†é¢‘ç¿»è¯‘é…éŸ³å·¥å…·

>
> è¿™æ˜¯ä¸€ä¸ªè§†é¢‘ç¿»è¯‘é…éŸ³å·¥å…·ï¼Œå¯å°†ä¸€ç§è¯­è¨€çš„è§†é¢‘ç¿»è¯‘ä¸ºæŒ‡å®šè¯­è¨€çš„è§†é¢‘ï¼Œè‡ªåŠ¨ç”Ÿæˆå’Œæ·»åŠ è¯¥è¯­è¨€çš„å­—å¹•å’Œé…éŸ³ã€‚
>
> è¯­éŸ³è¯†åˆ«æ”¯æŒ `faster-whisper`æ¨¡å‹ `openai-whisper`æ¨¡å‹ å’Œ `GoogleSpeech` `zh_recogné˜¿é‡Œä¸­æ–‡è¯­éŸ³è¯†åˆ«æ¨¡å‹`.
>
> æ–‡å­—ç¿»è¯‘æ”¯æŒ `å¾®è½¯ç¿»è¯‘|Googleç¿»è¯‘|ç™¾åº¦ç¿»è¯‘|è…¾è®¯ç¿»è¯‘|ChatGPT|AzureAI|Gemini|DeepL|DeepLX|ç¦»çº¿ç¿»è¯‘OTT`
>
> æ–‡å­—åˆæˆè¯­éŸ³æ”¯æŒ `Microsoft Edge tts` `Google tts` `Azure AI TTS` `Openai TTS` `Elevenlabs TTS` `è‡ªå®šä¹‰TTSæœåŠ¡å™¨api` `GPT-SoVITS` [clone-voice](https://github.com/jianchang512/clone-voice)  [ChatTTS-ui](https://github.com/jianchang512/ChatTTS-ui)
>
> å…è®¸ä¿ç•™èƒŒæ™¯ä¼´å¥éŸ³ä¹ç­‰(åŸºäºuvr5)
> 
> æ”¯æŒçš„è¯­è¨€ï¼šä¸­æ–‡ç®€ç¹ã€è‹±è¯­ã€éŸ©è¯­ã€æ—¥è¯­ã€ä¿„è¯­ã€æ³•è¯­ã€å¾·è¯­ã€æ„å¤§åˆ©è¯­ã€è¥¿ç­ç‰™è¯­ã€è‘¡è„ç‰™è¯­ã€è¶Šå—è¯­ã€æ³°å›½è¯­ã€é˜¿æ‹‰ä¼¯è¯­ã€åœŸè€³å…¶è¯­ã€åŒˆç‰™åˆ©è¯­ã€å°åº¦è¯­ã€ä¹Œå…‹å…°è¯­ã€å“ˆè¨å…‹è¯­ã€å°å°¼è¯­ã€é©¬æ¥è¯­ã€æ·å…‹è¯­



# ä¸»è¦ç”¨é€”å’Œä½¿ç”¨æ–¹å¼

ã€ç¿»è¯‘è§†é¢‘å¹¶é…éŸ³ã€‘å°†è§†é¢‘ä¸­çš„å£°éŸ³ç¿»è¯‘ä¸ºå¦ä¸€ç§è¯­è¨€çš„é…éŸ³ï¼Œå¹¶åµŒå…¥è¯¥è¯­è¨€å­—å¹•

ã€éŸ³é¢‘æˆ–è§†é¢‘è½¬ä¸ºå­—å¹•ã€‘å°†éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶ä¸­çš„äººç±»è¯´è¯å£°ï¼Œè¯†åˆ«ä¸ºæ–‡å­—å¹¶å¯¼å‡ºä¸ºsrtå­—å¹•æ–‡ä»¶

ã€æ‰¹é‡å­—å¹•åˆ›å»ºé…éŸ³ã€‘æ ¹æ®æœ¬åœ°å·²æœ‰çš„srtå­—å¹•æ–‡ä»¶åˆ›å»ºé…éŸ³ï¼Œæ”¯æŒå•ä¸ªæˆ–æ‰¹é‡å­—å¹•

ã€æ‰¹é‡å­—å¹•ç¿»è¯‘ã€‘å°†ä¸€ä¸ªæˆ–å¤šä¸ªsrtå­—å¹•æ–‡ä»¶ç¿»è¯‘ä¸ºå…¶ä»–è¯­è¨€çš„å­—å¹•æ–‡ä»¶

ã€éŸ³é¢‘ã€è§†é¢‘ã€å­—å¹•åˆå¹¶ã€‘éŸ³é¢‘æ–‡ä»¶ã€è§†é¢‘æ–‡ä»¶ã€å­—å¹•æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªè§†é¢‘æ–‡ä»¶

ã€ä»è§†é¢‘ä¸­åˆ†ç¦»å‡ºéŸ³é¢‘ã€‘ä»è§†é¢‘ä¸­åˆ†ç¦»ä¸ºéŸ³é¢‘æ–‡ä»¶å’Œæ— å£°è§†é¢‘


ã€ä¸‹è½½æ²¹ç®¡è§†é¢‘ã€‘å¯ä»youtubeä¸Šä¸‹è½½è§†é¢‘

----



https://github.com/jianchang512/pyvideotrans/assets/3378335/3811217a-26c8-4084-ba24-7a95d2e13d58


# é¢„æ‰“åŒ…ç‰ˆæœ¬(ä»…win10/win11å¯ç”¨ï¼ŒMacOS/Linuxç³»ç»Ÿä½¿ç”¨æºç éƒ¨ç½²)

> ä½¿ç”¨pyinstalleræ‰“åŒ…ï¼Œæœªåšå…æ€å’Œç­¾åï¼Œæ€è½¯å¯èƒ½æŠ¥æ¯’ï¼Œè¯·åŠ å…¥ä¿¡ä»»åå•æˆ–ä½¿ç”¨æºç éƒ¨ç½²

0. [ç‚¹å‡»å»ä¸‹è½½é¢„æ‰“åŒ…ç‰ˆ,è§£å‹åˆ°æ— ç©ºæ ¼çš„è‹±æ–‡ç›®å½•åï¼ŒåŒå‡» sp.exe (https://github.com/jianchang512/pyvideotrans/releases)

1. è§£å‹åˆ°è‹±æ–‡è·¯å¾„ä¸‹ï¼Œå¹¶ä¸”è·¯å¾„ä¸­ä¸å«æœ‰ç©ºæ ¼ã€‚è§£å‹ååŒå‡» sp.exe  (è‹¥é‡åˆ°æƒé™é—®é¢˜å¯å³é”®ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€)

4. æ³¨æ„ï¼šå¿…é¡»è§£å‹åä½¿ç”¨ï¼Œä¸å¯ç›´æ¥å‹ç¼©åŒ…å†…åŒå‡»ä½¿ç”¨ï¼Œä¹Ÿä¸å¯è§£å‹åç§»åŠ¨sp.exeæ–‡ä»¶åˆ°å…¶ä»–ä½ç½®


# MacOSæºç éƒ¨ç½²

0. æ‰“å¼€ç»ˆç«¯çª—å£ï¼Œåˆ†åˆ«æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤
	
	> æ‰§è¡Œå‰ç¡®ä¿å·²å®‰è£… Homebrewï¼Œå¦‚æœä½ æ²¡æœ‰å®‰è£… Homebrew,é‚£ä¹ˆéœ€è¦å…ˆå®‰è£…
	>
	> æ‰§è¡Œå‘½ä»¤å®‰è£… Homebrewï¼š  `/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"`
	>
	> å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œï¼š `eval $(brew --config)`
	>

    ```
    brew install libsndfile

    brew install ffmpeg

    brew install git

    brew install python@3.10

    ```

    ç»§ç»­æ‰§è¡Œ

    ```
    export PATH="/usr/local/opt/python@3.10/bin:$PATH"

    source ~/.bash_profile 
	
	source ~/.zshrc

    ```



1. åˆ›å»ºä¸å«ç©ºæ ¼å’Œä¸­æ–‡çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ç»ˆç«¯ä¸­è¿›å…¥è¯¥æ–‡ä»¶å¤¹ã€‚
2. ç»ˆç«¯ä¸­æ‰§è¡Œå‘½ä»¤ `git clone https://github.com/jianchang512/pyvideotrans `
3. æ‰§è¡Œå‘½ä»¤ `cd pyvideotrans`
4. ç»§ç»­æ‰§è¡Œ `python -m venv venv`
5. ç»§ç»­æ‰§è¡Œå‘½ä»¤ `source ./venv/bin/activate`ï¼Œæ‰§è¡Œå®Œæ¯•æŸ¥çœ‹ç¡®è®¤ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦å·²å˜æˆå·²`(venv)`å¼€å¤´,ä»¥ä¸‹å‘½ä»¤å¿…é¡»ç¡®å®šç»ˆç«¯æç¤ºç¬¦æ˜¯ä»¥`(venv)`å¼€å¤´
6. æ‰§è¡Œ `pip install -r requirements.txt --no-deps`ï¼Œå¦‚æœæç¤ºå¤±è´¥ï¼Œæ‰§è¡Œå¦‚ä¸‹2æ¡å‘½ä»¤åˆ‡æ¢pipé•œåƒåˆ°é˜¿é‡Œé•œåƒ

    ```
    pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/
    pip config set install.trusted-host mirrors.aliyun.com
    ```

    ç„¶åé‡æ–°æ‰§è¡Œ
    å¦‚æœå·²åˆ‡æ¢åˆ°é˜¿é‡Œé•œåƒæºï¼Œä»æç¤ºå¤±è´¥ï¼Œè¯·å°è¯•æ‰§è¡Œ `pip install -r requirements.txt  --ignore-installed --no-deps `

7. `python sp.py` æ‰“å¼€è½¯ä»¶ç•Œé¢


[Macä¸‹è¯¦ç»†éƒ¨ç½²æ–¹æ¡ˆ](https://pyvideotrans.com/mac.html)





# Linux æºç éƒ¨ç½²

0. CentOS/RHELç³»ä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£… python3.10

```

sudo yum update

sudo yum groupinstall "Development Tools"

sudo yum install openssl-devel bzip2-devel libffi-devel

cd /tmp

wget https://www.python.org/ftp/python/3.10.4/Python-3.10.4.tgz

tar xzf Python-3.10.4.tgz

cd Python-3.10.4

./configure â€” enable-optimizations

sudo make && sudo make install

sudo alternatives â€” install /usr/bin/python3 python3 /usr/local/bin/python3.10

sudo yum install -y ffmpeg

```

1. Ubuntu/Debianç³»æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…python3.10

```

apt update && apt upgrade -y

apt install software-properties-common -y

add-apt-repository ppa:deadsnakes/ppa

apt update

sudo apt-get install libxcb-cursor0

apt install python3.10

curl -sS https://bootstrap.pypa.io/get-pip.py | python3.10

pip 23.2.1 from /usr/local/lib/python3.10/site-packages/pip (python 3.10)

sudo update-alternatives --install /usr/bin/python python /usr/local/bin/python3.10 

sudo update-alternatives --config python

apt-get install ffmpeg

```


**æ‰“å¼€ä»»æ„ä¸€ä¸ªç»ˆç«¯ï¼Œæ‰§è¡Œ `python3 -V`ï¼Œå¦‚æœæ˜¾ç¤º â€œ3.10.4â€ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼Œå¦åˆ™å¤±è´¥**


1. åˆ›å»ºä¸ªä¸å«ç©ºæ ¼å’Œä¸­æ–‡çš„æ–‡ä»¶å¤¹ï¼Œ ä»ç»ˆç«¯æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ã€‚
3. ç»ˆç«¯ä¸­æ‰§è¡Œå‘½ä»¤ `git clone https://github.com/jianchang512/pyvideotrans`
4. ç»§ç»­æ‰§è¡Œå‘½ä»¤ `cd pyvideotrans`
5. ç»§ç»­æ‰§è¡Œ `python -m venv venv`
6. ç»§ç»­æ‰§è¡Œå‘½ä»¤ `source ./venv/bin/activate`ï¼Œæ‰§è¡Œå®Œæ¯•æŸ¥çœ‹ç¡®è®¤ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦å·²å˜æˆå·²`(venv)`å¼€å¤´,ä»¥ä¸‹å‘½ä»¤å¿…é¡»ç¡®å®šç»ˆç«¯æç¤ºç¬¦æ˜¯ä»¥`(venv)`å¼€å¤´
7. æ‰§è¡Œ `pip install -r requirements.txt --no-deps`ï¼Œå¦‚æœæç¤ºå¤±è´¥ï¼Œæ‰§è¡Œå¦‚ä¸‹2æ¡å‘½ä»¤åˆ‡æ¢pipé•œåƒåˆ°é˜¿é‡Œé•œåƒ

    ```

    pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/
    pip config set install.trusted-host mirrors.aliyun.com

    ```

    ç„¶åé‡æ–°æ‰§è¡Œ,å¦‚æœå·²åˆ‡æ¢åˆ°é˜¿é‡Œé•œåƒæºï¼Œä»æç¤ºå¤±è´¥ï¼Œè¯·å°è¯•æ‰§è¡Œ `pip install -r requirements.txt  --ignore-installed --no-deps `
8. å¦‚æœè¦ä½¿ç”¨CUDAåŠ é€Ÿï¼Œåˆ†åˆ«æ‰§è¡Œ

    `pip uninstall -y torch torchaudio`


    `pip install torch torchaudio --index-url https://download.pytorch.org/whl/cu118`

    `pip install nvidia-cublas-cu11 nvidia-cudnn-cu11`

9. linux å¦‚æœè¦å¯ç”¨cudaåŠ é€Ÿï¼Œå¿…é¡»æœ‰è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œå¹¶ä¸”é…ç½®å¥½äº†CUDA11.8+ç¯å¢ƒ,è¯·è‡ªè¡Œæœç´¢ "Linux CUDA å®‰è£…"


10. `python sp.py` æ‰“å¼€è½¯ä»¶ç•Œé¢


# Window10/11 æºç éƒ¨ç½²

0. æ‰“å¼€ https://www.python.org/downloads/ ä¸‹è½½ windows3.10ï¼Œä¸‹è½½ååŒå‡»ï¼Œä¸€è·¯nextï¼Œæ³¨æ„è¦é€‰ä¸­â€œAdd to PATHâ€

   **æ‰“å¼€ä¸€ä¸ªcmdï¼Œæ‰§è¡Œ `python -V`ï¼Œå¦‚æœè¾“å‡ºä¸æ˜¯ `3.10.4`,è¯´æ˜å®‰è£…å‡ºé”™ï¼Œæˆ–æ²¡æœ‰åŠ å…¥ `Add to PATH`,è¯·é‡æ–°å®‰è£…**

1. æ‰“å¼€ https://github.com/git-for-windows/git/releases/download/v2.45.0.windows.1/Git-2.45.0-64-bit.exe ï¼Œä¸‹è½½gitï¼Œä¸‹è½½ååŒå‡»ä¸€è·¯ä¸‹ä¸€æ­¥ã€‚
2. æ‰¾ä¸ªä¸å«ç©ºæ ¼å’Œä¸­æ–‡çš„æ–‡ä»¶å¤¹ï¼Œåœ°å€æ ä¸­è¾“å…¥ `cmd`å›è½¦ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œä»¥ä¸‹å‘½ä»¤å‡åœ¨è¯¥ç»ˆç«¯ä¸­æ‰§è¡Œ
3. æ‰§è¡Œå‘½ä»¤ `git clone https://github.com/jianchang512/pyvideotrans`
4. ç»§ç»­æ‰§è¡Œå‘½ä»¤ `cd pyvideotrans`
5. ç»§ç»­æ‰§è¡Œ `python -m venv venv`
6. ç»§ç»­æ‰§è¡Œå‘½ä»¤ `.\venv\scripts\activate`,æ‰§è¡Œåè¯·æŸ¥çœ‹ç¡®è®¤å‘½ä»¤è¡Œå¼€å¤´å·²å˜æˆäº†`(venv)`,å¦åˆ™è¯´æ˜å‡ºé”™
7. æ‰§è¡Œ `pip install -r requirements.txt --no-deps`ï¼Œå¦‚æœæç¤ºå¤±è´¥ï¼Œæ‰§è¡Œå¦‚ä¸‹2æ¡å‘½ä»¤åˆ‡æ¢pipé•œåƒåˆ°é˜¿é‡Œé•œåƒ

    ```

    pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/
    pip config set install.trusted-host mirrors.aliyun.com

    ```

    ç„¶åé‡æ–°æ‰§è¡Œ,å¦‚æœå·²åˆ‡æ¢åˆ°é˜¿é‡Œé•œåƒæºï¼Œä»æç¤ºå¤±è´¥ï¼Œè¯·å°è¯•æ‰§è¡Œ `pip install -r requirements.txt  --ignore-installed --no-deps `
8.  å¦‚æœè¦ä½¿ç”¨CUDAåŠ é€Ÿï¼Œåˆ†åˆ«æ‰§è¡Œ

    `pip uninstall -y torch torchaudio`

    `pip install torch torchaudio --index-url https://download.pytorch.org/whl/cu118`


9. windows  å¦‚æœè¦å¯ç”¨cudaåŠ é€Ÿï¼Œå¿…é¡»æœ‰è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œå¹¶ä¸”é…ç½®å¥½äº†CUDA11.8+ç¯å¢ƒï¼Œå…·ä½“å®‰è£…è§ [CUDAåŠ é€Ÿæ”¯æŒ](https://pyvideotrans.com/gpu.html)

10. è§£å‹ ffmpeg.zip åˆ°å½“å‰æºç ç›®å½•ä¸‹ï¼Œæç¤ºè¦†ç›–åˆ™è¦†ç›–ï¼Œè§£å‹åç¡®ä¿æºç ä¸‹çš„ffmepgæ–‡ä»¶å¤¹å†…èƒ½çœ‹åˆ° ffmpeg.exe ffprobe.exe ytwin32.exe,

11. `python sp.py` æ‰“å¼€è½¯ä»¶ç•Œé¢



#  æºç éƒ¨ç½²é—®é¢˜è¯´æ˜

1. é»˜è®¤ä½¿ç”¨ ctranslate2çš„4.xç‰ˆæœ¬ï¼Œä»…æ”¯æŒCUDA12.xç‰ˆæœ¬ï¼Œå¦‚æœä½ çš„cudaä½äº12ï¼Œå¹¶ä¸”æ— æ³•å‡çº§cudaåˆ°12.xï¼Œè¯·æ‰§è¡Œå‘½ä»¤å¸è½½ctranslate2ç„¶åé‡æ–°å®‰è£…

```

pip uninstall -y ctranslate2

pip install ctranslate2==3.24.0

```

2. å¯èƒ½ä¼šé‡åˆ° `xx module not found ` ä¹‹ç±»é”™è¯¯ï¼Œè¯·æ‰“å¼€ requirements.txtï¼Œæœç´¢è¯¥ xx æ¨¡å—ï¼Œç„¶åå°†xxåçš„ ==åŠç­‰ä¼šåçš„ç‰ˆæœ¬å·å»æ‰




# ä½¿ç”¨æ•™ç¨‹å’Œæ–‡æ¡£

è¯·æŸ¥çœ‹ https://pyvideotrans.com/guide.html


# è¯­éŸ³è¯†åˆ«æ¨¡å‹:

   ä¸‹è½½åœ°å€ï¼š https://pyvideotrans.com/model.html

   æ¨¡å‹è¯´æ˜å’ŒåŒºåˆ«ä»‹ç»ï¼šhttps://pyvideotrans.com/02.html



# è§†é¢‘æ•™ç¨‹(ç¬¬ä¸‰æ–¹)

[Macä¸‹æºç éƒ¨ç½²/bç«™](https://www.bilibili.com/video/BV1tK421y7rd/)

[ç”¨Gemini Api ç»™è§†é¢‘ç¿»è¯‘è®¾ç½®æ–¹æ³•/bç«™](https://b23.tv/fED1dS3)

[å¦‚ä½•ä¸‹è½½å’Œå®‰è£…](https://www.bilibili.com/video/BV1Gr421s7cN/)


# è½¯ä»¶é¢„è§ˆæˆªå›¾

![image](https://github.com/jianchang512/pyvideotrans/assets/3378335/55faecd9-5ac6-4962-b0f3-ef2283000c64)



# ç›¸å…³è”é¡¹ç›®

[ChatTTS-ui:ä½¿ç”¨ChatTTSåˆæˆå£°éŸ³çš„UIç•Œé¢](https://github.com/jianchang512/ChatTTS-ui)

[OTT:æœ¬åœ°ç¦»çº¿æ–‡å­—ç¿»è¯‘å·¥å…·](https://github.com/jianchang512/ott)

[å£°éŸ³å…‹éš†å·¥å…·:ç”¨ä»»æ„éŸ³è‰²åˆæˆè¯­éŸ³](https://github.com/jianchang512/clone-voice)

[è¯­éŸ³è¯†åˆ«å·¥å…·:æœ¬åœ°ç¦»çº¿çš„è¯­éŸ³è¯†åˆ«è½¬æ–‡å­—å·¥å…·](https://github.com/jianchang512/stt)

[äººå£°èƒŒæ™¯ä¹åˆ†ç¦»:äººå£°å’ŒèƒŒæ™¯éŸ³ä¹åˆ†ç¦»å·¥å…·](https://github.com/jianchang512/vocal-separate)

[GPT-SoVITSçš„api.pyæ”¹è‰¯ç‰ˆ](https://github.com/jianchang512/gptsovits-api)


## è‡´è°¢

> æœ¬ç¨‹åºä¸»è¦ä¾èµ–çš„éƒ¨åˆ†å¼€æºé¡¹ç›®

1. ffmpeg
2. PySide6
3. edge-tts
4. faster-whisper
5. openai-whisper
6. pydub

## å…³æ³¨ä½œè€…å¾®ä¿¡å…¬ä¼—å·

<img width="200" src="https://github.com/jianchang512/pyvideotrans/assets/3378335/f9337111-9084-41fe-8840-1fb8fedca92d">


å¦‚æœè§‰å¾—è¯¥é¡¹ç›®å¯¹ä½ æœ‰ä»·å€¼ï¼Œå¹¶å¸Œæœ›è¯¥é¡¹ç›®èƒ½ä¸€ç›´ç¨³å®šæŒç»­ç»´æŠ¤ï¼Œæ¬¢è¿æåŠ©

<img width="200" src="https://github.com/jianchang512/pyvideotrans/raw/main/images/wx.png">

<img width="200" src="https://github.com/jianchang512/pyvideotrans/assets/3378335/fe1aa29d-c26d-46d3-b7f3-e9c030ef32c7">
